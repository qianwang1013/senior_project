<section data-ng-controller="FilesController" data-ng-init="findOne()">
	<div class="page-header">
		<h1>{{file.title}}<span data-ng-show = "newlyEdit(file.ifEdit)"><img src = "modules/files/img/update.png" height = "40" width = "80"></img></span></h1>
	</div>
	<div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == file.user._id))">
		<a class="btn btn-primary" href="/#!/files/{{file._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>
	<small>
		<em class="text-muted">
			Posted on
			<span data-ng-bind="file.created | date:'mediumDate'"></span>
			by
			<span data-ng-bind="file.user.displayName"></span>
		</em>
	</small>

	<div class = "container">
			<div class = "row">
				<label>Keywords</label>
				<span>
					{{file.keywords}}
				</span>
			</div>
			<div class = "row">
				<label>Primary Citation</label>
				<span>{{getCitation(file)}}</span>
			</div>
			<div class = "row">
				<label>Brief Description</label>
				<span>{{file.description}}</span>
			</div>
			<div class = "row">
				<span class = "hr"></span>
			</div>
		<!-- Line Break right here -->

			<div class = "row">
				<label>Abstract</label>
				<span>{{file.abstract}}</span>
			</div>
			<div class = "row">
				<label>Comments</label>
				<span>{{file.notes}}</span>
			</div>
			<div class = "row">
				<label>Blob</label>
				<span>{{file.fileBlob.data}}</span>
			</div>
	</div>

	<button class = "btn btn-default" data-ng-click = "setShowLanguage()">Formatting Language</button>
	<button class = "btn btn-default" data-ng-click = "createRTF()">RTF</button>
	<button class = "btn btn-default" data-ng-click = "createASCII()">ASCII</button>

	<a data-ng-if = "showRTF === 1"  target = "_self" href = "/#!/download/rtf" download = "file.rtf">Download RTF file</a>
	<a data-ng-if = "showASCII === 1" target = "_self" href = "/#!/download/txt" download = "file.txt">Download ASCII file</a>

	<div data-ng-if = "show_language">
		<span data-ng-include = "'/modules/files/views/format.language.client.view.html'"></span>
	</div>

</section>
